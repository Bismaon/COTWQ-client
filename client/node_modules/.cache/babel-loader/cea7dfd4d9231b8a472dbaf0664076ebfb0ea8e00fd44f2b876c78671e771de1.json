{"ast":null,"code":"// Menus.tsx\nimport React,{useState}from'react';import'../stylesheet/Menus.css';import'../stylesheet/style.css';import EntryBox from'./EntryBox';import CountryInfo from'./CountryInfo';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const Menus=()=>{const[menu,setMenu]=useState('main');const[showEntryPoint,setShowEntryPoint]=useState(false);const[userData,setUserData]=useState(null);// State to hold user data\nconst[error,setError]=useState('');// State to hold error message\nfunction startGame(gamemode){setShowEntryPoint(true);const title=document.getElementById('title');if(title)title.style.display='none';// TODO implement gamemode selection\n}const handleFetchUser=async event=>{event.preventDefault();try{const response=await fetch('/users/fetch-user',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({id:2})// Need to make the user login and keep track of his ID\n});if(response.ok){const userData=await response.json();setUserData(userData);setMenu('profile');// Switch to profile menu after fetching user data\n}else{const errorText=await response.text();setError(\"Failed to fetch user: \".concat(errorText));}}catch(error){console.error('Error fetching user:',error);// Handle error\n}};const renderMenu=()=>{switch(menu){case'main':return/*#__PURE__*/_jsx(MainMenu,{setMenu:setMenu});case'games':if(!showEntryPoint){return/*#__PURE__*/_jsx(GamesMenu,{startGame:startGame,setMenu:setMenu});}else{return;// No menu\n}case'profile':return/*#__PURE__*/_jsx(ProfileMenu,{setMenu:setMenu,userData:userData});// Pass userData to ProfileMenu\ndefault:return/*#__PURE__*/_jsx(MainMenu,{setMenu:setMenu});}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(EntryBox,{showEntryPoint:showEntryPoint}),/*#__PURE__*/_jsx(\"div\",{id:\"menu-container\",children:renderMenu()}),/*#__PURE__*/_jsx(CountryInfo,{showEntryPoint:showEntryPoint})]});};const MainMenu=_ref=>{let{setMenu}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"main-buttons\",id:\"main-menu\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:()=>setMenu('games'),children:\"Games\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",children:\"High Scores\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",children:\"Settings\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:()=>setMenu('profile'),children:\"Profile\"})]});};const GamesMenu=_ref2=>{let{startGame,setMenu}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"main-buttons\",id:\"games-menu\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:()=>setMenu('main'),children:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:()=>startGame('classic'),children:\"Classic country of the world quiz\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",children:\"Flag Attribution\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",children:\"No map but fills\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",children:\"Sequential\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",children:\"Continents\"})]});};const ProfileMenu=_ref3=>{let{setMenu,userData}=_ref3;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main-buttons\",id:\"profile-menu\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:()=>setMenu('main'),children:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",children:\"Edit\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-box\",children:userData?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"User Information\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"ID: \",userData.id]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Username: \",userData.username]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading user data...\"})})]});};export default Menus;","map":{"version":3,"names":["React","useState","EntryBox","CountryInfo","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Menus","menu","setMenu","showEntryPoint","setShowEntryPoint","userData","setUserData","error","setError","startGame","gamemode","title","document","getElementById","style","display","handleFetchUser","event","preventDefault","response","fetch","method","headers","body","JSON","stringify","id","ok","json","errorText","text","concat","console","renderMenu","MainMenu","GamesMenu","ProfileMenu","children","_ref","className","onClick","_ref2","_ref3","username"],"sources":["C:/Users/esteb/Documents/GitHub/COTWQ-server/client/src/pages/Menus.tsx"],"sourcesContent":["// Menus.tsx\r\n\r\nimport React, { useState } from 'react';\r\nimport '../stylesheet/Menus.css';\r\nimport '../stylesheet/style.css';\r\nimport EntryBox from './EntryBox';\r\nimport CountryInfo from './CountryInfo';\r\nimport { UserModel } from '../models/UserModel';\r\n\r\n\r\nconst Menus: React.FC = () => {\r\n  const [menu, setMenu] = useState<string>('main');\r\n  const [showEntryPoint, setShowEntryPoint] = useState<boolean>(false);\r\n  const [userData, setUserData] = useState<UserModel|null>(null); // State to hold user data\r\n  const [error, setError] = useState<string>(''); // State to hold error message\r\n\r\n  function startGame(gamemode: string) {\r\n    setShowEntryPoint(true);\r\n\r\n    const title: HTMLElement | null = document.getElementById('title');\r\n    if (title) title.style.display = 'none';\r\n    // TODO implement gamemode selection\r\n  }\r\n\r\n  const handleFetchUser = async (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const response = await fetch('/users/fetch-user', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ id: 2 }), // Need to make the user login and keep track of his ID\r\n      });\r\n\r\n      if (response.ok) {\r\n        const userData = await response.json();\r\n\t\tsetUserData(userData);\r\n\t\tsetMenu('profile'); // Switch to profile menu after fetching user data\r\n      } else {\r\n        const errorText = await response.text();\r\n        setError(`Failed to fetch user: ${errorText}`);\r\n      }\r\n    } catch (error) {\r\n\t\tconsole.error('Error fetching user:', error);\r\n\t\t// Handle error\r\n\t  }\r\n  };\r\n\r\n  const renderMenu = () => {\r\n    switch (menu) {\r\n      case 'main':\r\n        return <MainMenu setMenu={setMenu} />;\r\n      case 'games':\r\n        if (!showEntryPoint) {\r\n          return <GamesMenu startGame={startGame} setMenu={setMenu} />;\r\n        } else {\r\n          return; // No menu\r\n        }\r\n      case 'profile':\r\n        return <ProfileMenu setMenu={setMenu} userData={userData} />; // Pass userData to ProfileMenu\r\n\r\n      default:\r\n        return <MainMenu setMenu={setMenu} />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <EntryBox showEntryPoint={showEntryPoint} />\r\n      <div id=\"menu-container\">\r\n        {renderMenu()}\r\n      </div>\r\n      <CountryInfo showEntryPoint={showEntryPoint} />\r\n    </>\r\n  );\r\n};\r\n\r\nconst MainMenu: React.FC<{ setMenu: (menu: string) => void }> = ({ setMenu }) => (\r\n  <div className=\"main-buttons\" id=\"main-menu\">\r\n    <button className=\"button\" onClick={() => setMenu('games')}>Games</button>\r\n    <button className=\"button\">High Scores</button>\r\n    <button className=\"button\">Settings</button>\r\n    <button className=\"button\" onClick={() => setMenu('profile')}>Profile</button>\r\n  </div>\r\n);\r\n\r\nconst GamesMenu: React.FC<{ startGame: (gamemode:string) =>void, setMenu: (menu: string) => void }>= ({startGame, setMenu}) => (\r\n  <div className=\"main-buttons\" id=\"games-menu\">\r\n    <button className=\"button\" onClick={()=>setMenu('main')}>Back</button>\r\n    <button className=\"button\" onClick={()=>startGame('classic')}>Classic country of the world quiz</button>\r\n    <button className=\"button\">Flag Attribution</button>\r\n    <button className=\"button\">No map but fills</button>\r\n    <button className=\"button\">Sequential</button>\r\n    <button className=\"button\">Continents</button>\r\n  </div>\r\n);\r\n\r\nconst ProfileMenu: React.FC<{ setMenu: (menu: string) => void, userData:UserModel|null}> = ({ setMenu, userData }) => (\r\n\t<>\r\n    <div className=\"main-buttons\" id=\"profile-menu\">\r\n      <button className=\"button\" onClick={() => setMenu('main')}>\r\n        Back\r\n      </button>\r\n      <button className=\"button\">Edit</button>\r\n    </div>\r\n    <div className=\"profile-box\">\r\n\t\t{userData ? (\r\n          <>\r\n            <h2>User Information</h2>\r\n            <p>ID: {userData.id}</p>\r\n            <p>Username: {userData.username}</p>\r\n            {/* Add more fields as needed */}\r\n          </>\r\n        ) : (\r\n          <p>Loading user data...</p>\r\n        )}\r\n\t</div>\r\n  </>\r\n);\r\nexport default Menus;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}