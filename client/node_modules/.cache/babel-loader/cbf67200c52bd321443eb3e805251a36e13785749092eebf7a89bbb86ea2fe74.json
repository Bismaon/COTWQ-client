{"ast":null,"code":"// UserForm.tsx\nimport React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserForm=_ref=>{let{setUserID}=_ref;const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[userID,setLocalUserID]=useState('');const[userData,setUserData]=useState(null);const[error,setError]=useState('');const handleSubmitCreateUser=async event=>{event.preventDefault();try{const response=await fetch('/users',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username,password})});if(response.ok){const newUser=await response.json();console.log('New user created:',newUser);// Clear form fields after successful submission\nsetUsername('');setPassword('');// Optionally display success message\nalert('User created successfully!');}else{const errorText=await response.text();setError(\"Failed to create user: \".concat(errorText));}}catch(error){console.error('Error creating user:',error);// Handle error\n}};const handleSubmitFetchUser=async event=>{event.preventDefault();try{const response=await fetch('/users/fetch-user',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({id:userID})});if(response.ok){const fetchedUser=await response.json();setUserData(fetchedUser);console.log('Fetched user data:',fetchedUser);}else{const errorText=await response.text();setError(\"Failed to fetch user: \".concat(errorText));}}catch(error){console.error('Error fetching user:',error);// Handle error\n}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmitCreateUser,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Username:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:e=>setUsername(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Password:\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create User\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmitFetchUser,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Enter User ID to Fetch:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:userID,onChange:e=>setLocalUserID(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Fetch User Data\"})]}),userData&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"User Data\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"ID: \",userData.id]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Username: \",userData.username]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Highscores:\"}),/*#__PURE__*/_jsx(\"ul\",{children:Object.entries(userData.highscores).map(_ref2=>{let[game,score]=_ref2;return/*#__PURE__*/_jsxs(\"li\",{children:[game,\": \",score]},game);})})]}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error})]});};export default UserForm;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","UserForm","_ref","setUserID","username","setUsername","password","setPassword","userID","setLocalUserID","userData","setUserData","error","setError","handleSubmitCreateUser","event","preventDefault","response","fetch","method","headers","body","JSON","stringify","ok","newUser","json","console","log","alert","errorText","text","concat","handleSubmitFetchUser","id","fetchedUser","children","onSubmit","type","value","onChange","e","target","required","Object","entries","highscores","map","_ref2","game","score","style","color"],"sources":["C:/Users/esteb/Documents/GitHub/COTWQ-server/client/src/components/UserForm.tsx"],"sourcesContent":["// UserForm.tsx\nimport React, { useState } from 'react';\nimport { UserModel } from '../models/UserModel';\n\ninterface UserFormProps {\n  setUserID: (userID: number) => void;\n}\n\nconst UserForm: React.FC<UserFormProps> = ({setUserID}) => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [userID, setLocalUserID] = useState('');\n  const [userData, setUserData] = useState<UserModel|null>(null);\n  const [error, setError] = useState<string>('');\n\n  \n  const handleSubmitCreateUser = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    try {\n      const response = await fetch('/users', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ username, password }),\n      });\n\n      if (response.ok) {\n        const newUser = await response.json();\n        console.log('New user created:', newUser);\n        // Clear form fields after successful submission\n        setUsername('');\n        setPassword('');\n        // Optionally display success message\n        alert('User created successfully!');\n      } else {\n        const errorText = await response.text();\n        setError(`Failed to create user: ${errorText}`);\n      }\n    } catch (error) {\n      console.error('Error creating user:', error);\n      // Handle error\n    }\n  };\n\n  const handleSubmitFetchUser = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    try {\n      const response = await fetch('/users/fetch-user', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ id: userID }),\n      });\n\n      if (response.ok) {\n        const fetchedUser = await response.json();\n        setUserData(fetchedUser);\n        console.log('Fetched user data:', fetchedUser);\n      } else {\n        const errorText = await response.text();\n        setError(`Failed to fetch user: ${errorText}`);\n      }\n    } catch (error) {\n      console.error('Error fetching user:', error);\n      // Handle error\n    }\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmitCreateUser}>\n        <label>\n          Username:\n          <input\n            type=\"text\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n            required\n          />\n        </label>\n        <label>\n          Password:\n          <input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n          />\n        </label>\n        <button type=\"submit\">Create User</button>\n      </form>\n\n      <hr />\n\n      <form onSubmit={handleSubmitFetchUser}>\n        <label>\n          Enter User ID to Fetch:\n          <input\n            type=\"text\"\n            value={userID}\n            onChange={(e) => setLocalUserID(e.target.value)}\n            required\n          />\n        </label>\n        <button type=\"submit\">Fetch User Data</button>\n      </form>\n\n      {userData && (\n        <div>\n          <h2>User Data</h2>\n          <p>ID: {userData.id}</p>\n          <p>Username: {userData.username}</p>\n          <h3>Highscores:</h3>\n          <ul>\n            {Object.entries(userData.highscores).map(([game, score]: [string, number]) => (\n              <li key={game}>\n                {game}: {score}\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n\n      {error && <p style={{ color: 'red' }}>{error}</p>}\n    </div>\n  );\n};\n\nexport default UserForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}