{"ast":null,"code":"// UserForm.tsx\nimport React,{useState}from'react';import CreateAccountForm from'./CreateAccountForm';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserForm=()=>{const[userID,setUserID]=useState();const[userData,setUserData]=useState(null);const[error,setError]=useState('');const handleSubmitFetchUser=async event=>{event.preventDefault();try{const response=await fetch('/users/fetch-user',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({id:userID})});if(response.ok){const fetchedUser=await response.json();setUserData(fetchedUser);console.log('Fetched user data:',fetchedUser);}else{const errorText=await response.text();setError(\"Failed to fetch user: \".concat(errorText));}}catch(error){console.error('Error fetching user:',error);// Handle error\n}};return/*#__PURE__*/_jsxs(\"div\",{style:{display:'none'},children:[/*#__PURE__*/_jsx(CreateAccountForm,{setUserID:setUserID}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmitFetchUser,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Enter User ID to Fetch:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:userID,onChange:e=>setUserID(Number(e.target.value)),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Fetch User Data\"})]}),userData&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"User Data\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"ID: \",userData.id]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Username: \",userData.username]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Highscores:\"}),/*#__PURE__*/_jsx(\"ul\",{children:Object.entries(userData.highscores).map(_ref=>{let[game,score]=_ref;return/*#__PURE__*/_jsxs(\"li\",{children:[game,\": \",score]},game);})})]}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error})]});};export default UserForm;","map":{"version":3,"names":["React","useState","CreateAccountForm","jsx","_jsx","jsxs","_jsxs","UserForm","userID","setUserID","userData","setUserData","error","setError","handleSubmitFetchUser","event","preventDefault","response","fetch","method","headers","body","JSON","stringify","id","ok","fetchedUser","json","console","log","errorText","text","concat","style","display","children","onSubmit","type","value","onChange","e","Number","target","required","username","Object","entries","highscores","map","_ref","game","score","color"],"sources":["C:/Users/esteb/Documents/GitHub/COTWQ-client/client/src/components/UserForm.tsx"],"sourcesContent":["// UserForm.tsx\nimport React, { useState } from 'react';\nimport { UserModel } from '../models/UserModel';\nimport CreateAccountForm from './CreateAccountForm';\n\n\nconst UserForm: React.FC = () => {\n  const [userID, setUserID] = useState<number>();\n  const [userData, setUserData] = useState<UserModel|null>(null);\n  const [error, setError] = useState<string>('');\n\n  const handleSubmitFetchUser = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    try {\n      const response = await fetch('/users/fetch-user', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ id: userID }),\n      });\n\n      if (response.ok) {\n        const fetchedUser = await response.json();\n        setUserData(fetchedUser);\n        console.log('Fetched user data:', fetchedUser);\n      } else {\n        const errorText = await response.text();\n        setError(`Failed to fetch user: ${errorText}`);\n      }\n    } catch (error) {\n      console.error('Error fetching user:', error);\n      // Handle error\n    }\n  };\n\n  return (\n    <div style={{display:'none'}}>\n      <CreateAccountForm setUserID={setUserID}/>\n\n      <hr />\n\n      <form onSubmit={handleSubmitFetchUser}>\n        <label>\n          Enter User ID to Fetch:\n          <input\n            type=\"number\"\n            value={userID}\n            onChange={(e) => setUserID(Number(e.target.value))}\n            required\n          />\n        </label>\n        <button type=\"submit\">Fetch User Data</button>\n      </form>\n\n      {userData && (\n        <div>\n          <h2>User Data</h2>\n          <p>ID: {userData.id}</p>\n          <p>Username: {userData.username}</p>\n          <h3>Highscores:</h3>\n          <ul>\n            {Object.entries(userData.highscores).map(([game, score]: [string, number]) => (\n              <li key={game}>\n                {game}: {score}\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n\n      {error && <p style={{ color: 'red' }}>{error}</p>}\n    </div>\n  );\n};\n\nexport default UserForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}